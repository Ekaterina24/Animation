<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animation</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"
        integrity="sha512-z4OUqw38qNLpn1libAN9BsoDx6nbNFio5lA6CuTp9NlK83b89hgyCVq+N5FdBJptINztxn1Z3SaKSKUS5UP60Q=="
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="spotlight">
        <h1 class="animated flip">Animation</h1>
        <div class="birds__block">
            <img class="birds__block__image" src="birds.png" alt="birds">
        </div>
        <img class="push" src="push.png" alt="push">
        <div class="elements">
            <div class="circle el"></div>
            <div class="circle el"></div>
            <div class="circle el"></div>
        </div>

        <div class="sun"></div>
        <div class="rain">
            <div class="drop"></div>
            <div class="drop"></div>
            <div class="drop"></div>
            <div class="drop"></div>
            <div class="drop"></div>
            <div class="drop"></div>
            <div class="drop"></div>
        </div>
        <div><button id="pause">pause</button></div>
        <div><button id="play">play</button></div>
        <div><button id="restart">restart</button></div>

        <img id="bird1" class="blue__bird" src="bird.png" alt="bird">
        <img id="bird2" class="blue__bird" src="bird.png" alt="bird">
        <img id="bird3" class="blue__bird" src="bird.png" alt="bird">


    </div>

    <script>
        var spotlight = document.querySelector('.spotlight');
        var spotlightSize = 'transparent 160px, rgba(0, 0, 0, 0.95) 400px)';

        window.addEventListener("DOMContentLoaded", () => {
            window.addEventListener('mousemove', e => updateSpotlight(e));

            function updateSpotlight(e) {
                spotlight.style.backgroundImage = `radial-gradient(circle at ${e.pageX / window.innerWidth * 100}% ${e.pageY / window.innerHeight * 100}%, ${spotlightSize}`;
            }
        });

        anime({
            targets: '.el',
            translateX: 270,
            direction: 'alternate',
            loop: true,
            delay: function (el, i, l) {
                return i * 100;
            },
            endDelay: function (el, i, l) {
                return (l - i) * 100;
            }
        });

        const animation = anime({
            targets: '.drop',
            translateY: 500,
            duration: 6000,
            easing: 'linear',
        });

        document.getElementById('pause').onclick = animation.pause;

        document.getElementById('play').onclick = animation.play;

        document.getElementById('restart').onclick = animation.restart;


        const timeline = anime.timeline({
            duration: 1000,
            easing: 'easeInSine'
        });

        timeline
            .add({
                targets: '#bird1',
                translateX: 500
            })
            .add({
                targets: '#bird2',
                backgroundColor: '#ff1491'
            }, '-=400')
            .add({
                targets: '#bird3',
                translateY: 200
            }, 200)


    </script>

</body>

</html>